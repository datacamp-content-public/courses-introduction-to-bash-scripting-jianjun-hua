---
key: de3fd0a8c7943873c24001ce02ccc689
title: 'Insert title here'
---

## "Break" and "Continue"

```yaml
type: TitleSlide
key: 460993be83
```

`@lower_third`
name: Jianjun Hua
title: Senior Data Scientist

`@script`
Congratulations! You almost finished this chapter about loops in bash. There is one more thing left before we head on to the next chapter.

Most of the time your loops are going through in a smooth and orderly manner. Sometimes however you may need to intervene and alter their running slightly. There are two statements you may issue to do this: break and continue.

---

## "Break" out of an inner loop

```yaml
type: FullSlide
key: eab7a94867
disable_transition: false
hide_title: false
```

`@part1`
The break statement (break [n]) is used to exit the current loop before its normal ending.  If n is specified, break n enclosing loop.

```{r}
for (( i = 1; i < 5; i++ ))
do
  echo "Outer loop: $i"
  for (( j = 1; j < 10; j++ ))
  do
    if (( $j == 3 ))
    then
      break
    fi
    echo "Inner loop: $j"
  done
done

echo "The loop has terminated "
echo "but the script continues!"
```

```{r }
$ ./bn-break-inner.sh
Outer loop: 1
Inner loop: 1
Inner loop: 2
Outer loop: 2
Inner loop: 1
Inner loop: 2
Outer loop: 3
Inner loop: 1
Inner loop: 2
Outer loop: 4
Inner loop: 1
Inner loop: 2
···{{}}

`@script`
The break statement tells Bash to leave the current loop straight away. Mind that break exits the loop, not the script. This can be demonstrated by adding an echo command at the end of the script.

---

## "Break" out of an inner loop

```yaml
type: TwoColumns
key: 578e8683d9
```

`@part1`
The break statement is used to exit the current loop before its normal ending. 
```
for ((i=1;i<5;i++)); do
  echo "Outer loop: $i"
  for ((j=1;j<10;j++)); do
    if (($j==3)); then
      break
    fi
    echo "Inner loop: $j"
  done
done
```{{1}}

`@part2`
```
Outer loop: 1
Inner loop: 1
Inner loop: 2
Outer loop: 2
Inner loop: 1
Inner loop: 2
Outer loop: 3
Inner loop: 1
Inner loop: 2
Outer loop: 4
Inner loop: 1
Inner loop: 2
```{{2}}

`@script`
The break statement tells Bash to leave the current loop straight away. Please note here that break exits the loop, not the script. This can be demonstrated by adding an echo command at the end of the script.

Please have a look at the example here. The outer loop index i goes through one to four, while the inner loop index j is supposed to go through one to nine. However, since we set up a condition that whenever the inner loop index j is equal to 3, the inner loop is terminated by the break statement and move on to the next outer loop iteration. 

Using echo we can see the whole procedure. The outer loop goes from one to four but all the inner loops only go from one to ten because of the condition and the break statement.

---

## "Break" out of an outer loop

```yaml
type: TwoColumns
key: f0cc8d0359
```

`@part1`
In nested loops, break allows for specification of which loop to exit. 
```
for ((i=1;i<5;i++)); do
  echo "Outer loop: $i"
  for ((j=1;j<10;j++)); do
    if (($j==3)); then
      break 2
    fi
    echo "Inner loop: $j"
  done
done
```{{1}}

`@part2`
```
Outer loop: 1
Inner loop: 1
Inner loop: 2
```{{2}}

`@script`
Now, this time, we'll try to break out of an outer loop. The number two following the break statement is the specification of the outer loop to exit. A smaller number means an inner loop, while a larger number means an outer loop.  When the inner loop index j reaches 3, "break 2" causes both inner loop and outer loop stop from proceeding to the next index and are terminated earlier. Therefore, we can see the outer loop index i only increases to one, while inner loop index j increases up to two, i.e. the first time the condition is satisfied. 

---

## "Break" out of an outer loop

```yaml
type: TwoRows
key: 9f69bb5658
```

`@part1`
```
for ((i=1;i<5;i++)); do
  echo "Outer loop: $i"
  for ((j=1;j<10;j++)); do
    if (($j==3)); then
      break 2
    fi
    echo "Inner loop: $j"
  done; 
done
```{{1}}

`@part2`
The output is ...{{2}}
```
Outer loop: 1
Inner loop: 1
Inner loop: 2
```{{2}}

`@script`


---

## "Continue" Statement

```yaml
type: FullSlide
key: 0f7cf703a1
```

`@part1`
The continue statement (continue [n])tells Bash to stop running through this iteration of the loop and begin the next iteration. If n is specified, resumes the nth enclosing loop.
```
for (( i = 1; i <= 10; i++)); do
  if (( $i >= 2)) && (( $i <= 8)); then
    continue
  fi
echo "Iteration number: $i"
done
```{{1}}
The output is ... {{2}}
```
Iteration number: 1
Iteration number: 9
Iteration number: 10
```{{2}}

`@script`
The continue statement tells Bash to stop running through the current iteration of the loop and begin the next iteration. Sometimes there are circumstances that stop us from going any further. 

---

## "Continue" in an inner loop

```yaml
type: TwoColumns
key: b10f3b669e
```

`@part1`
```
for ((i=1;i<5;i++)); do
  echo "Outer loop: $i"
  for ((j=1;j<10;j++)); do
    if (($j==3)); then
      continue
    fi
    echo "Inner loop: $j"
  done
done
```{{1}}
The output is ...{{2}}

`@part2`
```
Outer loop: 1
Inner loop: 1
Inner loop: 2
Inner loop: 4
Inner loop: 5
Inner loop: 6
Inner loop: 7
Inner loop: 8
Inner loop: 9
Outer loop: 2
Inner loop: 1
...
```{{3}}

`@script`
Here, we only modified a bit on the script we used to demo break statement. You can see that the inner loop index 3 is not shown because the continue statement causes the remaining of that iteration (echo "Inner loop $j") to be skipped. But, unlike break, the inner loop still "continue" until the last value is take by the inner loop index j. Then, the outer loop continues to the next index i+1. 

---

## "Continue" in an outer loop

```yaml
type: TwoColumns
key: a84951faa0
```

`@part1`
```
for ((i=1;i<5;i++)); do
  echo "Outer loop: $i"
  for ((j=1;j<10;j++)); do
    if (($j==3)); then
      continue 2
    fi
    echo "Inner loop: $j"
  done
done
```{{1}}
The output is ...{{2}}

`@part2`
```
Outer loop: 1
Inner loop: 1
Inner loop: 2
Outer loop: 2
Inner loop: 1
Inner loop: 2
Outer loop: 3
Inner loop: 1
Inner loop: 2
Outer loop: 4
Inner loop: 1
...
```{{3}}

`@script`
Now, we set the n equal to 2, so that whenever the inner loop index j equal to 3, not only the remaining part of the current iteration of the inner loop is skipped, but the out outer loop as well. Please pause the video to take moment thinking out it.

---

## Example

```yaml
type: FullSlide
key: 7394ab522a
```

`@part1`
```
for i in $(seq 20); do
  if (( $i < 5 )); then
    continue
  elif (( $i > 15 )); then
    break
  fi
  echo "number $i"
done
```{{1}}
The output is ...{{2}}
```
number 5
number 6
number 7
number 8
number 9
number 10
number 11
number 12
number 13
number 14
number 15
```{{2}}

`@script`


---

## Example

```yaml
type: TwoColumns
key: d31ddd0e48
```

`@part1`
```
for i in $(seq 20); do
  if (( $i < 5 )); then
    continue
  elif (( $i > 15 )); then
    break
  fi
  echo "number $i"
done
```{{1}}

The output is ...{{2}}

`@part2`
```
number 5
number 6
number 7
number 8
number 9
number 10
number 11
number 12
number 13
number 14
number 15
```{{3}}

`@script`
Let's combine what we just learned about break and continue. In this example, we want to loop over 1 to 20 but skip 1 to 4 using continue and break out the loop when the loop index is greater than 15. Check this out! Does it make sense to you? Let's see if we get what we expected! Voila! you got it! 

---

## Difference between "break" and "continue"

```yaml
type: TwoColumns
key: 05eb52a1b8
```

`@part1`
This is part 1

**world** is a _beautiful_ 

- item
- item

[RStudio](https://www.rstudio.com/)

Let's try this

1. item1
2. item2
3. item3

`@part2`
This is part 2

What are you thinking
I know
```
this is a tough
```
> print("hello")
# This is a comment
## Subtitle 
### subsubtitle

`@script`
I'd like to say a lot of things here!

`@citations`
This is a citations

---

## Let's practice!

```yaml
type: FinalSlide
key: f24140b00c
```

`@script`
Let's practice what we've just learned.
